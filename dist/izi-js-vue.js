!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.izi=e():t.izi=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(1),o=r(i);t.exports=o["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=r(i),s=n(4),u=r(s),c=n(10),p=r(c),a=n(11),h=r(a);o["default"].VuePlugin=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.vueDataInjector,r=void 0===n?(0,p["default"])(t):n;t.mixin((0,h["default"])(o["default"],r)),t.izi={vueDataInjector:r,MainView:(0,u["default"])(t)}},e["default"]=o["default"]},function(t,e,n){var r,i,o;!function(s){function u(){var t,e={ioc:{bean:{}},utils:{},model:{},behavior:{impl:{}},binding:{impl:{nested:{}}},events:{},queue:{impl:{}}};return!function(t){t.utils.forEach=function(){function t(t,e,n){Array.prototype.forEach.call(t,e,n)}function e(t,e,n){var r,i=t.length;for(r=0;i>r;r+=1)e.call(n,t[r],r,t)}function n(){return"function"==typeof Array.prototype.forEach}return n()?t:e}()}(e),!function(t){t.utils.typeOf=function(t){if(void 0===t)return"undefined";if(null===t)return"null";switch(typeof t){case"string":return"String";case"number":return"Number";case"boolean":return"Boolean";case"function":return"Function"}switch(Object.prototype.toString.call(t)){case"[object Array]":return"Array";case"[object Date]":return"Date";case"[object RegExp]":return"RegExp";case"[object Boolean]":return"Boolean";case"[object Number]":return"Number"}if("object"==typeof t)return"Object";throw new Error("Couldn't find type of given value")}}(e),!function(t){var e=function(e){function n(){p.observers=[],t.utils.forEach(o,function(e){if(e.isKeyboardEventConfig)p.observers.push(u.iziObserveKeyStroke?u.iziObserveKeyStroke(e,r,i,s):c.observeKeyStroke(u,e,r,i,s));else if(e.isEventConfig)p.observers.push(u.iziObserveWidget?u.iziObserveWidget(e,r,i,s):c.observeWidget(u,e,r,i,s));else{if("Function"!==t.utils.typeOf(e))throw new Error("Incorrect event type. Expecting izi.event.* or 'eventType' or function(target, action, scope, eventOptions)");p.observers.push(e(u,r,i,s))}})}var r=e.getAction(),i=e.getScope(),o=e.getEvents(),s=e.getEventOptions(),u=e.getDispatcher(),c=e.getImpl(),p=this;n(),e.behavior=this};e.prototype.stopObserving=function(){t.utils.forEach(this.observers,function(t){t()})},t.behavior.OnWidget=e}(e),!function(t){var e=function(t){this.config=t};e.prototype.on=function(e){return new t.behavior.OnWidget(this.config.withDispatcher(e))},t.behavior.WhenWidget=e}(e),!function(t){t.behavior.OnModel=function(e){function n(){r.apply(i,arguments)}var r=e.getAction(),i=e.getScope(),o=e.getDispatcher(),s=e.getModelProperties(),u=[];e.behavior=this,t.utils.forEach(s,function(t){u.push(e.iziApi.bind({executeAtStartup:!1}).valueOf(o,t).to(n))}),this.stopObserving=function(){t.utils.forEach(u,function(t){t.unbind()})}}}(e),!function(t){var e=function(t){this.config=t};e.prototype.on=function(e){return new t.behavior.OnModel(this.config.withDispatcher(e))},t.behavior.WhenModel=e}(e),!function(t){var e="preventDefault",n="stopPropagation",r="both",i=function(t){this.eventType=t,this.modifiers={shift:!1,ctrl:!1,alt:!1},this.stopEventType=void 0};i.prototype.isEventConfig=!0,i.prototype.shift=function(){return this.modifiers.shift=!0,this},i.prototype.ctrl=function(){return this.modifiers.ctrl=!0,this},i.prototype.alt=function(){return this.modifiers.alt=!0,this},i.prototype.stopEvent=function(){return this.stopEventType=r,this},i.prototype.stopPropagation=function(){return this.stopEventType=n,this},i.prototype.preventDefault=function(){return this.stopEventType=e,this},i.prototype.isExpectedShiftKey=function(){return this.modifiers.shift},i.prototype.isExpectedCtrlKey=function(){return this.modifiers.ctrl},i.prototype.isExpectedAltKey=function(){return this.modifiers.alt},i.prototype.getEventType=function(){return this.eventType},i.prototype.shouldStopPropagation=function(){return this.stopEventType===n||this.stopEventType===r},i.prototype.shouldPreventDefault=function(){return this.stopEventType===e||this.stopEventType===r},i.prototype.matchesModifiers=function(t,e,n){return this.isExpectedShiftKey()===t&&this.isExpectedCtrlKey()===e&&this.isExpectedAltKey()===n},t.events.EventConfig=i}(e),!function(t){var e=function(t){this.config=t};e.prototype.when=function(){for(var e,n,r,i=[],o=arguments.length-1;o>=0;o--)if(n=arguments[o],r=t.utils.typeOf(n),"String"===r)i.push(new t.events.EventConfig(n));else if(n.isEventConfig||"Function"===r)i.push(n);else{if("Object"!==r)throw new Error("Incorrect event types/options arguments");e=n}return new t.behavior.WhenWidget(this.config.withEvents(i).withEventOptions(e))},e.prototype.whenChangeOf=function(){return new t.behavior.WhenModel(this.config.withModelProperties(Array.prototype.slice.call(arguments)))},e.prototype.on=function(e){var n=this.config.action;if("Function"===t.utils.typeOf(n.register))return n.register(e),{stopObserving:function(){n.unregister(e)}};throw new Error("Use on(target) method only for custom registrars: izi.perform({register: function (target){...}).on(target)")},t.behavior.Perform=e}(e),!function(t){var e=function(t,e){this.impl=t,this.iziApi=e};e.prototype.withDispatcher=function(t){return this.dispatcher=t,this},e.prototype.withEvents=function(t){return this.events=t,this},e.prototype.withEventOptions=function(t){return this.eventOptions=t,this},e.prototype.withAction=function(t){return this.action=t,this},e.prototype.withScope=function(t){return this.scope=t,this},e.prototype.withModelProperties=function(t){return this.modelProperties=t,this},e.prototype.getAction=function(){return"function"==typeof this.action||this.scope?this.action:this.getScope()[this.getImpl().defaultPerformFunction]},e.prototype.getScope=function(){return"function"==typeof this.action||this.scope?this.scope:this.action},e.prototype.getEvents=function(){return this.events},e.prototype.getEventOptions=function(){return this.eventOptions},e.prototype.getDispatcher=function(){return this.dispatcher.delegatedIn||this.dispatcher},e.prototype.getImpl=function(){return this.impl},e.prototype.getModelProperties=function(){return this.modelProperties},t.behavior.Config=e}(e),!function(t){t.behavior.register=function(e,n){if(!e.defaultPerformFunction)throw new Error("Behavior implementation must have defined property: defaultPerformFunction: 'someFunctionName'");if(!e.observeWidget)throw new Error("Behavior implementation must have defined function observeWidget (widget, eventConfig, action, scope, options)");if(!e.observeKeyStroke)throw new Error("Behavior implementation must have defined function observeKeyStroke (widget, keyboardConfig, action, scope, options)");return function(r,i){if(0===arguments.length){var o=[],s=function(r,i){var s=new t.behavior.Config(e,n).withAction(r).withScope(i);return o.push(s),new t.behavior.Perform(s)};return s.stopObserving=function(){t.utils.forEach(o,function(t){t.behavior.stopObserving()})},s}return new t.behavior.Perform(new t.behavior.Config(e,n).withAction(r).withScope(i))}}}(e),!function(t){t.utils.hasOwnProperty=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(e),!function(t){t.utils.mergeObjects=function(){function e(e,n){for(var r in e)t.utils.hasOwnProperty(e,r)&&(n[r]=e[r])}return function(){for(var t={},n=0;n<arguments.length;n++)e(arguments[n],t);return t}}()}(e),!function(t){t.utils.indexOf=function(){function t(t,e){return Array.prototype.indexOf.call(t,e)}function e(t,e){var n,r=t.length;for(n=0;r>n;n+=1)if(t[n]===e)return n;return-1}function n(){return"function"==typeof Array.prototype.indexOf}return n()?t:e}()}(e),!function(t){t.utils.removeItem=function(e,n){var r=t.utils.indexOf(e,n);-1!==r&&e.splice(r,1)}}(e),!function(t){var e=function(t){this.options={auto:!0,executeAtStartup:!0,debug:!1},this.impl=t,this.triggerProperties=[],this.bindings=[]};e.prototype.withOptions=function(e){return this.options=t.utils.mergeObjects(this.options,e),this},e.prototype.withBindings=function(t){return this.bindings=t,this},e.prototype.withCallerLineProvider=function(t){return this.callerLineProvider=t,this},e.prototype.withSource=function(t){return this.source=t,this},e.prototype.withSourceProperties=function(t){return this.sourceProperties=t.constructor===Array?t:[t],this},e.prototype.withTarget=function(t){return this.target=t,this},e.prototype.withTargetProperty=function(t){return this.targetProperty=t,this},e.prototype.withFormatter=function(t){return this.formatter=t,this},e.prototype.addTriggerProperty=function(t){this.triggerProperties.push(t)},e.prototype.addBinding=function(t){this.bindings.push(t)},e.prototype.removeBinding=function(e){t.utils.removeItem(this.bindings,e)},t.binding.Config=e}(e),!function(t){t.utils.curry=function(t,e){return function(){t.apply(e,arguments)}}}(e),!function(t){t.utils.findClosure=function(t,e,n){var r,i,o;for(r=0;r<t.length;r+=1)if(i=t[r],o=i.apply(n,e))return o;throw new Error("Closure not found")}}(e),!function(t){t.utils.trim=function(t){return t.replace(/^\W+/,"").replace(/\W+$/,"")}}(e),!function(t,e){var n;n="console"in e?function(){e.console.log.apply?e.console.log.apply(e.console,arguments):e.console.log(Array.prototype.slice.call(arguments))}:function(){},t.utils.log=function(){n.apply(e,arguments)}}(e,this),!function(t){function e(){throw new Error("twoWay() method may be used only once")}var n=t.utils.forEach,r=t.utils.curry,i=t.utils.findClosure,o=t.utils.trim,s=t.utils.log,u={},c=function(t){this.impl=t.impl,this.source=t.source.delegatedIn||t.source,this.sourceProperties=t.sourceProperties,this.triggerProperties=t.triggerProperties,this.target=t.target.delegatedIn||t.target,this.targetProperty=t.targetProperty,this.formatter=t.formatter,this.sourceReaders={},this.targetReader=void 0,this.targetWriter=void 0,this.observers=[],this.options=t.options,this.getCallerLine=t.callerLineProvider,this.registerReadersAndWriters(),this.options.auto&&(this.options.executeAtStartup&&this.transferValue(),this.bind()),t.addBinding(this)};c.prototype.getFormattedValues=function(t,e){var r,i=[],o=this.sourceReaders,s=this.formatter;if(n(e,function(e){r=o[e],i.push(r(t,e))}),s&&"function"==typeof s)return s.apply(null,i);if(1===i.length)return i[0];throw new Error("You must use formatter if you want to bind more properties than one. Ex: izi.bind().valueOf(model, 'firstName', 'lastName').through(concatFormatter)...")},c.prototype.debugBinding=function(t){var e;this.options.debug&&(e=o(this.getCallerLine()),s("[BINDING] "+e,{source:this.source,sourceProperties:this.sourceProperties,target:this.target,targetProperty:this.targetProperty,triggerProperties:this.triggerProperties,value:t}))},c.prototype.transferValue=function(){var t,e=this.source,n=this.sourceProperties,r=this.getFormattedValues(e,n),i=this.targetReader,o=this.targetWriter,s=this.target,c=this.targetProperty;try{t=i(s,c)}catch(p){t=u}r!==t&&(this.debugBinding(r),o(s,c,r))},c.prototype.getChangeObserver=function(e,n,r,o,u){var c=this.impl;try{return i(c.changeObservers,[e,n,r,o,u],this)}catch(p){if(!this.options.allowNotWatchable)throw new Error("Could not find change observer for: "+e+" and property: "+n);return t.isDebug&&s("[BINDING] Could not find change observer for:",e,"and property:",n),function(){return function(){}}}},c.prototype.registerReadersAndWriters=function(){var t=this.source,e=this.target,r=this.targetProperty,o=this.sourceProperties,s=this.sourceReaders,c=this.impl.valueReaders,p=this.impl.valueWriters;n(o,function(e){try{s[e]=i(c,[t,e,"sourceReader"],this)}catch(n){throw new Error("Could not find reader function for: "+t+" using property: "+e)}});try{this.targetReader=i(c,[e,r,"targetReader"],this)}catch(a){this.targetReader=function(){return u}}try{this.targetWriter=i(p,[e,r],this)}catch(a){throw new Error("Could not find writer function for: "+e+" using property: "+r)}},c.prototype.bind=function(){var t=this.sourceProperties,e=this.triggerProperties,i=this.source,o=this.target,s=this.targetProperty,u=e.concat(t),c=this.observers,p=r(this.transferValue,this),a=this;n(u,function(t){var e=a.getChangeObserver(i,t,o,s,p);c.push(e(i,t,o,s,p))}),this.reverseBinding&&this.reverseBinding.bind()},c.prototype.stopObserving=function(){this.unbind()},c.prototype.unbind=function(){n(this.observers,function(t){t()}),this.reverseBinding&&this.reverseBinding.unbind()},c.prototype.twoWay=function(){if(this.formatter)throw new Error("Two way binding doesn't allow to use .through(fn) function");if("Function"===t.utils.typeOf(this.target))throw new Error("Two way binding doesn't allow to use function as a target");var n=new t.binding.Config(this.impl).withOptions(this.options).withSource(this.target).withSourceProperties(this.targetProperty).withTarget(this.source).withTargetProperty(this.sourceProperties[0]).withCallerLineProvider(this.getCallerLine);return this.reverseBinding=new t.binding.Binding(n),this.twoWay=e,this},c.prototype.execute=function(){this.transferValue()},t.binding.Binding=c}(e),!function(t){var e=function(t){this.config=t};e.prototype.to=function(e,n){return 0===arguments.length?this:new t.binding.Binding(this.config.withTarget(e).withTargetProperty(n))},e.prototype.valueOf=function(t){return this.to(t,"value")},e.prototype.textOf=function(t){return this.to(t,"text")},e.prototype.selectedItemsOf=function(t){return this.to(t,"selectedItems")},e.prototype.through=function(t){return this.config.withFormatter(t),this},e.prototype.onChangeOf=function(t){return this.config.addTriggerProperty(t),this},t.binding.ValueOf=e}(e),!function(t){t.utils.getCallerLineProvider=function(e){if(!t.isDebug)return function(){return"Line numbers are available only in debug version of izi-js"};var n=Error();return function(){if(n.stack){var t=n.stack.split("\n"),r=navigator.userAgent.indexOf("WebKit")>-1?3+e:1+e;return t[r]}return" [IE doesn't provide line number in call stack]"}}}(e),!function(t){var e=function(t){this.config=t};e.prototype._valueOf=function(e,n){arguments.length>2&&(n=Array.prototype.slice.call(arguments,1));var r=this.cloneConfig().withSource(e).withSourceProperties(n||"value").withCallerLineProvider(t.utils.getCallerLineProvider(2));return new t.binding.ValueOf(r)},e.prototype.valueOf=function(){return this._valueOf.apply(this,arguments)},e.prototype.selectedItemsOf=function(t){return this._valueOf(t,"selectedItems")},e.prototype.cloneConfig=function(){return new t.binding.Config(this.config.impl).withBindings(this.config.bindings).withOptions(this.config.options)},e.prototype.unbindAll=function(){t.utils.forEach(this.config.bindings,function(t){t.unbind()})},e.prototype.executeAll=function(){t.utils.forEach(this.config.bindings,function(t){t.execute()})},t.binding.Bind=e}(e),!function(t){t.binding.impl.createObserver=function(t,e){return function(){return t.apply(this,arguments)?e:null}}}(e),!function(t){function e(t){return t.iziObserveProperty}function n(t,e,n,r,i){return t.iziObserveProperty(e,i)}t.binding.impl.customPropertyObserver=t.binding.impl.createObserver(e,n)}(e),!function(t){t.binding.impl.createReader=function(t,e){return function(){return t.apply(this,arguments)?e:null}}}(e),!function(t){t.utils.capitalize=function(t){return t.charAt(0).toUpperCase()+t.substr(1)}}(e),!function(t){t.utils.getterOf=function(e){return"get"+t.utils.capitalize(e)}}(e),!function(t){t.binding.impl.readByGet=function(){function e(t){return"function"==typeof t.get}function n(t,e){return t.get(e)}return t.binding.impl.createReader(e,n)}(),t.binding.impl.readByCapitalizedGetter=function(){function e(e,n){return e[t.utils.getterOf(n)]()}function n(e,n){return"String"===t.utils.typeOf(n)&&"function"==typeof e[t.utils.getterOf(n)]}return t.binding.impl.createReader(n,e)}(),t.binding.impl.readByFunction=function(){function e(t,e){return t[e]()}function n(t,e){return"function"==typeof t[e]}return t.binding.impl.createReader(n,e)}(),t.binding.impl.readFromProperty=function(){function e(t,e){return t[e]}function n(){return!0}return t.binding.impl.createReader(n,e)}(),t.binding.impl.readFromOwnedProperty=function(){function e(t,e){return t[e]}function n(e,n){return t.utils.hasOwnProperty(e,n)}return t.binding.impl.createReader(n,e)}()}(e),!function(t){t.binding.impl.createWriter=function(t,e){return function(){return t.apply(this,arguments)?e:null}}}(e),!function(t){t.binding.impl.writeBySet=function(){function e(t){return"function"==typeof t.set}function n(t,e,n){t.set(e,n)}return t.binding.impl.createWriter(e,n)}(),t.binding.impl.writeByCapitalizedSetter=function(){function e(e,n){return"String"===t.utils.typeOf(n)&&"function"==typeof e["set"+r(n)]}function n(t,e,n){t["set"+r(e)](n)}var r=t.utils.capitalize;return t.binding.impl.createWriter(e,n)}(),t.binding.impl.writeToProperty=function(){function e(){return!0}function n(t,e,n){t[e]=n}return t.binding.impl.createWriter(e,n)}(),t.binding.impl.writeToOwnedProperty=function(){function e(e,n){return t.utils.hasOwnProperty(e,n)}function n(t,e,n){t[e]=n}return t.binding.impl.createWriter(e,n)}(),t.binding.impl.writeByFunction=function(){function e(e){return"Function"===t.utils.typeOf(e)}function n(t,e,n){t.call(e,n)}return t.binding.impl.createWriter(e,n)}(),t.binding.impl.writeToFunction=function(){function e(e,n){return"Function"===t.utils.typeOf(e[n])}function n(t,e,n){t[e](n)}return t.binding.impl.createWriter(e,n)}()}(e),!function(t){t.binding.impl.nested.isNestedProperty=function(e){return"String"===t.utils.typeOf(e)&&e.indexOf(".")>-1}}(e),!function(t){function e(e,n){return t.binding.impl.nested.isNestedProperty(n)}function n(e,n,r,i,o){var s=e.iziNestedWatchers[n];return s.onValueChanged(o),t.utils.curry(s.stopObserving,s)}t.binding.impl.nested.nestedObserver=t.binding.impl.createObserver(e,n)}(e),!function(t){var e=function(t,e){this.path=t.split("."),this.path.pop(),this.readers=e};e.prototype.findFor=function(e){for(var n=e,r=0;r<this.path.length;r++){var i=this.path[r];try{var o=t.utils.findClosure(this.readers,[n,i,"targetReader"]);if(n=o(n,i),!n)break}catch(s){break}}return r===this.path.length?n:void 0},t.binding.impl.nested.TargetFinder=e}(e),!function(t){var e=function(t,e){this.property=t.split(".").pop(),this.writers=e};e.prototype.writeValue=function(e,n){try{var r=t.utils.findClosure(this.writers,[e,this.property,n]);r(e,this.property,n)}catch(i){}},t.binding.impl.nested.TargetWriter=e}(e),!function(t){t.binding.impl.nested.nestedWriter=function(){function e(e,n){var s=t.binding.impl.nested.isNestedProperty(n);return s&&(r=new t.binding.impl.nested.TargetFinder(n,o.valueReaders),i=new t.binding.impl.nested.TargetWriter(n,o.valueWriters),t.isDebug&&n.split(".").length>3&&t.utils.log("[BINDING]"+this.getCallerLine()+' Binding target path "'+n+'" has more than 3 parts. Consider using .to(function(value) { target.x.y.x = value; }) instead.')),s}function n(t,e,n){var o=r.findFor(t);o&&i.writeValue(o,n)}var r,i,o=this.impl;return e.apply(this,arguments)?n:null}}(e),!function(t){t.utils.inherit=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.upper=e.prototype,t.prototype.constructor=t}}(e),!function(t){t.utils.every=function(){function t(t,e,n){return Array.prototype.every.call(t,e,n)}function e(t,e,n){for(var r=t.length>>>0,i=0;r>i;i++)if(i in t&&!e.call(n,t[i],i,t))return!1;return!0}function n(){return"function"==typeof Array.prototype.every}return n()?t:e}()}(e),!function(t){var e=t.utils.forEach,n=t.utils.every,r=function(){this.listeners={}};r.prototype={constructor:r,findListeners:function(t){return void 0===this.listeners[t]&&(this.listeners[t]=[]),this.listeners[t]},dispatchEvent:function(t,n){var r=this;e(this.findListeners(t),function(t){t.fn.apply(t.scope||r,n||[])})},addListener:function(t,e,n){this.findListeners(t).push({fn:e,scope:n})},removeListener:function(e,r){var i,o=this.findListeners(e);n(o,function(t){return t.fn===r?(i=t,!1):!0}),i&&t.utils.removeItem(o,i)}},t.model.Observable=r}(e),!function(t){function e(t){return-1===t.indexOf(".")?t:t.substr(0,t.indexOf("."))}function n(t){return-1===t.indexOf(".")?void 0:t.substr(t.indexOf(".")+1)}var r=function(t,i){this.path=t,this.bindingImpl=i,this.sourceProperty=e(t);var o=n(t);o&&(this.child=new r(o,this.bindingImpl),this.child.onValueChanged(this.fireChange,this)),r.upper.constructor.apply(this)};t.utils.inherit(r,t.model.Observable),r.prototype.setSource=function(t){this.stopObserving(),this.source=t,this.startObserving()},r.prototype.onValueChanged=function(t,e){this.addListener("valueChanged",t,e)},r.prototype.stopObserving=function(){this.handler&&this.handler.unbind(),this.child&&this.child.stopObserving()},r.prototype.startObserving=function(){if(this.source){var e=new t.binding.Config(this.bindingImpl).withOptions({allowNotWatchable:!0}).withSource(this.source).withSourceProperties(this.sourceProperty).withTarget(this.valueChanged).withTargetProperty(this);this.handler=new t.binding.Binding(e)}else this.fireChange(void 0)},r.prototype.valueChanged=function(t){this.child?this.child.setSource(t):this.fireChange(t)},r.prototype.fireChange=function(t){this.dispatchEvent("valueChanged",[t])},t.binding.impl.nested.NestedWatcher=r}(e),!function(t){function e(e,n,r){var i;e.iziNestedWatchers||(e.iziNestedWatchers={}),e.iziNestedWatchers[n]||(i=new t.binding.impl.nested.NestedWatcher(n,r),i.onValueChanged(function(t){this.currentValue=t},i),i.setSource(e),e.iziNestedWatchers[n]=i)}function n(n){return function(r,i,o){var s="sourceReader"===o&&t.binding.impl.nested.isNestedProperty(i);return s&&e(r,i,n),s}}function r(t,e){return t.iziNestedWatchers[e].currentValue}t.binding.impl.nested.nestedReader=function(e){return t.binding.impl.createReader(n(e),r)}}(e),!function(t){t.binding.register=function(e){var n={};return n.changeObservers=[t.binding.impl.nested.nestedObserver,t.binding.impl.customPropertyObserver].concat(e.changeObservers),n.valueWriters=[t.binding.impl.nested.nestedWriter].concat(e.valueWriters),n.valueReaders=[t.binding.impl.nested.nestedReader(n)].concat(e.valueReaders),function(e){return new t.binding.Bind(new t.binding.Config(n).withOptions(e||{}))}}}(e),!function(t){var e=t.utils.curry,n=function(t){this.queue=t,t.onTaskStarted(this.startCountDown,this),t.onTaskFinished(this.stopCountDown,this)};n.prototype.startCountDown=function(t){var n=this.queue.timeoutForTask(t.task);n>0&&(this.timeoutId=setTimeout(e(this.timeoutTask,this),n))},n.prototype.timeoutTask=function(){this.queue.currentTaskTimeouted()},n.prototype.stopCountDown=function(){clearTimeout(this.timeoutId)},t.queue.TimeoutGuard=n}(e),!function(t){t.utils.some=function(){function t(t,e,n){return Array.prototype.some.call(t,e,n)}function e(t,e,n){var r=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var i=0;r>i;i++)if(i in t&&e.call(n,t[i],i,t))return!0;return!1}function n(){return"function"==typeof Array.prototype.some}return n()?t:e}()}(e),!function(t){var e=function(){this.items=[]};e.prototype.set=function(t,e){this.getItemOrCreate(t).value=e},e.prototype.get=function(t){var e=this.getItem(t);return e?e.value:void 0},e.prototype.remove=function(e){var n=this.getItem(e);n&&t.utils.removeItem(this.items,n)},e.prototype.getKeys=function(){var e=[];return t.utils.forEach(this.items,function(t){e.push(t.key)}),e},e.prototype.getKeysOf=function(e){var n=[];return t.utils.forEach(this.items,function(t){t.value===e&&n.push(e)}),n},e.prototype.getValues=function(){var e=[];return t.utils.forEach(this.items,function(t){e.push(t.value)}),e},e.prototype.count=function(){return this.items.length},e.prototype.countValues=function(e){var n=0;return t.utils.forEach(this.items,function(t){t.value===e&&n++}),n},e.prototype.getItemOrCreate=function(t){return this.getItem(t)||this.createItem(t)},e.prototype.createItem=function(t){var e={key:t};return this.items.push(e),e},e.prototype.getItem=function(e){var n=void 0;return t.utils.some(this.items,function(t){return t.key===e?(n=t,!0):!1}),n},t.utils.Map=e}(e),!function(t){var e=function(t,n){e.upper.constructor.apply(this),this.originalFunction=t,this.scope=n,this.logLabel="synchronize.onCallback()"};t.utils.inherit(e,t.model.Observable),e.prototype.synchronizedFunction=function(){try{if(this.originalFunction)return this.originalFunction.apply(this.scope,arguments)}finally{this.dispatchEvent("synchronized",[this])}},t.queue.SynchronizedFunction=e}(e),!function(t){var e=function(t,n,r){e.upper.constructor.apply(this);var i=t.perform(this.doSynchronized,this);this.handler=i.when.apply(i,r).on(n),this.logLabel="synchronize.onEvent()"};t.utils.inherit(e,t.model.Observable),e.prototype.doSynchronized=function(){this.handler.stopObserving(),this.dispatchEvent("synchronized",[this])},t.queue.SynchronizedOnEvent=e}(e),!function(t){var e=function(t,n,r){e.upper.constructor.apply(this);var i=this;n=n||"result",r=r||"error",this.synchronizedResponder={},this.synchronizedResponder[n]=function(){try{t[n].apply(t,arguments)}finally{i.dispatchEvent("synchronized",[i])}},this.synchronizedResponder[r]=function(){try{t[r].apply(t,arguments)}finally{i.dispatchEvent("synchronized",[i])}},this.logLabel="synchronize.responder()"};t.utils.inherit(e,t.model.Observable),t.queue.SynchronizedResponder=e}(e),!function(t){var e=function(e){this.queue=e,this.synchronizations=new t.utils.Map,this.awaitedTasks=new t.utils.Map,this.cancelQueue=function(){e.cancel()}};e.prototype.onCallback=function(e,n){var r=this.obtainTask(),i=new t.queue.SynchronizedFunction(e,n);return this.recordSynchronization(i,r),t.utils.curry(i.synchronizedFunction,i)},e.prototype.onEvent=function(e){var n=this.obtainTask(),r=new t.queue.SynchronizedOnEvent(this.queue.iziApi,e,Array.prototype.slice.call(arguments,1));this.recordSynchronization(r,n)},e.prototype.responder=function(e,n,r){var i=this.obtainTask(),o=new t.queue.SynchronizedResponder(e,n,r);return this.recordSynchronization(o,i).synchronizedResponder},e.prototype.recordSynchronization=function(t,e){return this.queue.log("        "+t.logLabel+" was used by task: "+this.queue.getCurrentTaskIndex()+" of "+this.queue.countTasks()),this.synchronizations.set(t,e),t.addListener("synchronized",this.removeSynchronization,this),t},e.prototype.removeSynchronization=function(t){var e=this.synchronizations.get(t);this.synchronizations.remove(t);var n=this.countSynchronizations(e);this.queue.log("        "+t.logLabel+" completed by task: "+this.queue.getCurrentTaskIndex()+" of "+this.queue.countTasks()),0==n&&this.taskSynchronized(e)},e.prototype.taskSynchronized=function(t){var e=this.awaitedTasks,n=e.get(t);if(n)try{n.fn.apply(n.scope)}finally{e.remove(t)}},e.prototype.countSynchronizations=function(t){return this.synchronizations.countValues(t)},e.prototype.obtainTask=function(){var t=this.queue.currentTask;if(!t)throw new Error("There is no task executed. Please use izi.queue().execute(someTask) and use this method.");return t},e.prototype.hasPendingSynchronizations=function(){return!!this.synchronizations.count()},e.prototype.afterSynchronizingTaskCall=function(t,e){this.awaitedTasks.set(t,e)},e.prototype.taskTimeout=function(e){var n=this.synchronizations,r=n.getKeysOf(e);this.queue.log("    Time outed task: "+this.queue.getCurrentTaskIndex()+" of "+this.queue.countTasks()),this.awaitedTasks.remove(e),t.utils.forEach(r,function(t){n.remove(t)})},t.queue.Synchronizer=e}(e),!function(t){var e=function(t,e){this.functionToExecute=t,this.scope=e};e.prototype.execute=function(){this.functionToExecute.apply(this.scope,arguments)},t.queue.GenericTask=e}(e),!function(t,e){function n(){var t=new Date;return r(t.getHours(),2)+":"+r(t.getMinutes(),2)+":"+r(t.getSeconds(),2)+"."+r(t.getMilliseconds(),3)}function r(t,e){var n=""+t;return new Array(e-n.length+1).join("0")+n}var i=t.utils.typeOf,o=t.utils.mergeObjects,s=t.utils.forEach,u=t.utils.log,c=0,p=function(n,r,i){var s={scope:e,defaultTimeout:0,debug:void 0};this.config=o(s,r),this.iziApi=i,this.queue=[],this.originalQueue=[],this.config.debug&&(c++,this.id=this.config.debug+":"+c),this.delegatedIn=n.createEventDispatcher(),this.dispatchEvent=n.dispatchEvent,this.synchronizer=new t.queue.Synchronizer(this),new t.queue.TimeoutGuard(this)};p.prototype.execute=function(){return this.pushAll(arguments),this.start(),this},p.prototype.push=function(){return this.pushAll(arguments),this},p.prototype.start=function(){if(this.isExecutedTask())throw new Error("Can't start already started queue until it's finished");return this.queue=this.originalQueue.slice(),this.log("Queue started. Total tasks to execute: "+this.countTasks()),this.proceed(),this},p.prototype.cancel=function(){this.log("Queue canceled at executing task: "+this.getCurrentTaskIndex()+" of "+this.countTasks()),this.dispatchTaskEvent("queueCanceled",!0),this.queue=[],this.clearAndProceed()},p.prototype.onTaskStarted=function(t,n){return this.iziApi.perform(t,n||e).when("taskStarted").on(this)},p.prototype.onTaskFinished=function(t,n){return this.iziApi.perform(t,n||e).when("taskFinished").on(this)},p.prototype.onTaskTimeouted=function(t,n){return this.iziApi.perform(t,n||e).when("taskTimeouted").on(this)},p.prototype.onQueueFinished=function(t,n){return this.iziApi.perform(t,n||e).when("queueFinished").on(this)},p.prototype.onQueueCanceled=function(t,n){return this.iziApi.perform(t,n||e).when("queueCanceled").on(this)},p.prototype.pushAll=function(t){var e=this;s(t,function(t,n){if("Function"===i(t))e.pushFunction(t);else{if("Object"!==i(t)||"Function"!==i(t.execute))throw new Error("Invalid queue element given at index: "+n+". Expected Function or Object with execute() function.");e.pushTask(t)}})},p.prototype.pushTask=function(t){this.originalQueue.push(t)},p.prototype.pushFunction=function(e){this.pushTask(new t.queue.GenericTask(e,this.getScope()))},p.prototype.getScope=function(){return this.config.scope},p.prototype.proceed=function(){return this.isExecutedTask()?void 0:this.isEmptyQueue()?(this.log(""),this.log("Queue finished"),void this.dispatchTaskEvent("queueFinished")):void this.executeSynchronously(this.queue.shift())},p.prototype.isEmptyQueue=function(){return 0===this.queue.length},p.prototype.isExecutedTask=function(){return!!this.currentTask},p.prototype.executeSynchronously=function(t){this.currentTask=t,this.log(""),this.log("    Task started: "+this.getCurrentTaskIndex()+" of "+this.countTasks()),this.dispatchTaskEvent("taskStarted",!0),t.execute(this.synchronizer),this.awaitSynchronizerOrProceed()},p.prototype.awaitSynchronizerOrProceed=function(){this.synchronizer.hasPendingSynchronizations()?this.synchronizer.afterSynchronizingTaskCall(this.currentTask,{fn:this.taskSynchronized,scope:this}):(this.log("        No synchronizations used by task: "+this.getCurrentTaskIndex()+" of "+this.countTasks()),this.taskSynchronized())},p.prototype.taskSynchronized=function(){this.log("    Task finished: "+this.getCurrentTaskIndex()+" of "+this.countTasks()),this.dispatchTaskEvent("taskFinished",!0),this.clearAndProceed()},p.prototype.clearAndProceed=function(){this.currentTask=void 0,this.proceed()},p.prototype.dispatchTaskEvent=function(t,e){var n={type:t,queue:this,task:this.currentTask};e&&(n.currentTask=this.getCurrentTaskIndex(),n.totalTasks=this.countTasks()),this.dispatchEvent(this.delegatedIn,t,n)},p.prototype.getCurrentTaskIndex=function(){return this.originalQueue.length-this.queue.length},p.prototype.countTasks=function(){return this.originalQueue.length},p.prototype.timeoutForTask=function(){return this.config.defaultTimeout},p.prototype.currentTaskTimeouted=function(){this.synchronizer.taskTimeout(this.currentTask),
this.dispatchTaskEvent("taskTimeouted",!0),this.clearAndProceed()},p.prototype.log=function(t){this.config.debug&&u("[izi.queue:"+this.id+"] "+n()+" "+t)},t.queue.Queue=p}(e,this),!function(t){t.queue.register=function(e,n){return function(r){return new t.queue.Queue(e,r,n)}}}(e),!function(t){t.utils.arrayContains=function(e,n){return-1!==t.utils.indexOf(e,n)}}(e),!function(t){t.utils.ClassNotFound=function(t){this.message='Class name given as string: "'+t+"\" couldn't be resolved as a class"},t.utils.ClassNotFound.prototype=new Error}(e),!function(t){t.utils.getClassByName=function(e,n){var r,i=e.split(".");return r=n,t.utils.forEach(i,function(n){var i=r[n];if(void 0===i)throw new t.utils.ClassNotFound(e);r=i}),r}}(e),!function(t){function e(t,e){return t===e}function n(t,e){return t.matchesByType(e)}function r(t,e){var n;e.iziInjectingInProgress=!0;for(n in e){var r=e[n];r&&r.isIziInjection&&r.injector(e,n,r.resolveBean(t))}delete e.iziInjectingInProgress}var i=function(t,e,n){if(this.id=t,this.strategy=e,this.globals=n,this.createdBeans=[],!n)throw new Error("`globals` not defined")};i.prototype.init=function(t){return this.strategy.init(t)},i.prototype.create=function(t){var e=this.strategy.create(t);return e.iziInjectingInProgress?e:(r(t,e),e.iziContext&&!e.iziContextCalled&&(e.iziContextCalled=!0,e.iziContext(t)),e.iziInit&&!e.iziInitCalled&&(e.iziInitCalled=!0,e.iziInit()),this.createdBeans.push(e),e)},i.prototype.destroyCreatedBeans=function(){t.utils.forEach(this.createdBeans,function(t){if(t.iziDestroy)try{t.iziDestroy()}catch(e){}}),this.id=void 0,this.strategy=void 0,this.createdBeans=void 0},i.prototype.preDestroyCreatedBeans=function(){t.utils.forEach(this.createdBeans,function(t){t.iziPreDestroy&&t.iziPreDestroy()})},i.prototype.matches=function(r){return"string"==typeof r?-1!==r.indexOf(".")?n(this.strategy,t.utils.getClassByName(r,this.globals)):e(this.id,r):n(this.strategy,r)},i.prototype.getArgumentsDependencies=function(e){function n(n){var r=[];return t.utils.forEach(n,function(t){t&&t.isIziInjection&&r.push(t.findBeanBuilder(e))}),r}return n(this.strategy.getArguments())},t.ioc.bean.BeanBuilder=i}(e),!function(t){var e=function(t){this.instance=t};e.prototype.init=function(){return this.instance},e.prototype.create=function(){return this.instance},e.prototype.matchesByType=function(t){return this.instance instanceof t},e.prototype.getArguments=function(){return[]},t.ioc.bean.InstanceStrategy=e}(e),!function(t){t.ioc.bean.NoBeanMatched=function(t){this.message="No bean matched: "+t}}(e),!function(t){function e(e){return"Array"===t.utils.typeOf(e)?n(e):e}function n(e){var n={};return t.utils.forEach(e,function(t){r(t,function(t,e){if(void 0!==n[t])throw new Error('Found duplicated bean ID: "'+t+'" in multiple configurations');n[t]=e})}),n}function r(e,n){for(var r in e)t.utils.hasOwnProperty(e,r)&&n(r,e[r])}function i(e,n,r){var i,o,s;for(i in e)t.utils.hasOwnProperty(e,i)&&(o=e[i],s=o instanceof t.ioc.Config?new t.ioc.bean.BeanBuilder(i,o.createStrategy(),r):new t.ioc.bean.BeanBuilder(i,new t.ioc.bean.InstanceStrategy(o),r),n.push(s))}function o(e,n){function r(i){var o=i.getArgumentsDependencies(e);t.utils.forEach(o,function(t){if(t===n)throw new Error("Circular dependencies found. If it is possible try inject those dependencies by properties instead by arguments.");r(t)})}r(n)}function s(t,e){return o(t,e),e.init(t)}function u(e,n){var r,i=[];t.utils.forEach(n,function(t){r=s(e,t),r&&i.push(t)}),t.utils.forEach(i,function(t){t.create(e)})}function c(){return{isPrevented:!1,isDestroyPrevented:function(){return this.isPrevented},preventDestroy:function(){this.isPrevented=!0}}}function p(t){function e(e){if(i.dispatchEvent("preDestroy",arguments),!e.isDestroyPrevented()){var n=t.doPreDestroy();n||e.preventDestroy()}}function n(){o.removeListener("destroy",n),o.removeListener("preDestroy",e),i.dispatchEvent("destroy",arguments),t.doDestroy()}var r=t.parentContext,i=t.destroyDispatcher,o=r&&r.destroyDispatcher;o&&(o.addListener("preDestroy",e),o.addListener("destroy",n))}var a=function(n,r,i){this.globals=n,this.beans=e(r),this.destroyDispatcher=new t.model.Observable,this.parentContext=i,this.beansBuilders=[],p(this)};a.prototype.initContext=function(){return i(this.beans,this.beansBuilders,this.globals),u(this,this.beansBuilders),this},a.prototype.getBean=function(e){var n=this.findBeanBuilder(e);if(!n)throw new t.ioc.bean.NoBeanMatched(e);return n.create(this)},a.prototype.wire=function(e){var n=new t.ioc.bean.InstanceStrategy(e),r=new t.ioc.bean.BeanBuilder("",n,this.globals);return this.beansBuilders.push(r),r.create(this)},a.prototype.destroy=function(){var t=this.destroyDispatcher,e=c();if(t.dispatchEvent("preDestroy",[e]),e.isDestroyPrevented())return!1;var n=this.doPreDestroy();return n?(t.dispatchEvent("destroy"),this.doDestroy(),!0):!1},a.prototype.doPreDestroy=function(){return t.utils.every(this.beansBuilders,function(t){try{return t.preDestroyCreatedBeans(),!0}catch(e){return!1}})},a.prototype.doDestroy=function(){return t.utils.forEach(this.beansBuilders,function(t){t.destroyCreatedBeans()}),this.beansBuilders=[],this.beans=void 0,this.parentContext=void 0,this.destroyDispatcher=void 0,!0},a.prototype.findBeanBuilder=function(e){var n=null;return t.utils.forEach(this.beansBuilders,function(t){if(t.matches(e)){if(n)throw new Error("Ambiguous reference to bean by type. Please refer by id.");n=t}}),n||void 0===this.parentContext||(n=this.parentContext.findBeanBuilder(e)),n},t.ioc.BeansContext=a}(e),!function(t){var e=function(t,e,n){this.Clazz=this._resolveClass(t,n),this.Strategy=e,this.args=[]};e.prototype.createStrategy=function(){return new this.Strategy(this)},e.prototype.getArguments=function(){return this.args},e.prototype.getProperties=function(){return this.props},e.prototype.getClazz=function(){return this.Clazz},e.prototype.withArgs=function(){if(arguments.length>10)throw new Error("Too many arguments passed. Ten arguments is maximum.");return this.args=arguments,this},e.prototype.withProps=function(t){return this.props=t,this},e.prototype._resolveClass=function(e,n){return"String"===t.utils.typeOf(e)&&(e=t.utils.getClassByName(e,n)),e},t.ioc.Config=e}(e),!function(t){function e(t,e,n){t[e]=n}function n(t){return t}var r=function(r){this.beanIdOrType=r,this.getCallerLine=t.utils.getCallerLineProvider(2),this.injector=e,this.dependencyConverter=n};r.prototype.getBeanNotFoundMessage=function(){var e;return e="Function"===t.utils.typeOf(this.beanIdOrType)?this.beanIdOrType.name||this.beanIdOrType:this.beanIdOrType,"Bean: `"+e+"` couldn't be found from injection at line:\n"+this.getCallerLine()},r.prototype.resolveBean=function(e){var n;try{n=e.getBean(this.beanIdOrType)}catch(r){throw r instanceof t.utils.ClassNotFound||r instanceof t.ioc.bean.NoBeanMatched?new Error(this.getBeanNotFoundMessage()):r}return this.dependencyConverter(n)},r.prototype.by=function(e){if("Function"!==t.utils.typeOf(e))throw new Error("Injector should be a function with target, prop, dependency arguments");return this.injector=e,this},r.prototype.through=function(e){if("Function"!==t.utils.typeOf(e))throw new Error("Dependency converter should be a function with dependency argument");return this.dependencyConverter=e,this},r.prototype.property=function(t){return this.through(function(e){return e[t]})},r.prototype.findBeanBuilder=function(t){var e=t.findBeanBuilder(this.beanIdOrType);if(null===e)throw new Error(this.getBeanNotFoundMessage());return e},r.prototype.isIziInjection=!0,t.ioc.Injection=r}(e),!function(t){t.ioc.bean.createInstance=function(e,n,r,i){function o(t,e){var n,r,i=[];for(n=0;n<t.length;n+=1)r=t[n],i.push(r&&r.isIziInjection?r.resolveBean(e):r);return i}function s(e,n){if(void 0!==n)for(var r in n)t.utils.hasOwnProperty(n,r)&&(e[r]=n[r])}"String"===t.utils.typeOf(e)&&(e=t.utils.getClassByName(e,i.globals));var u,c=o(n,i),p=c.length;if(0===p)u=new e;else if(1===p)u=new e(c[0]);else if(2===p)u=new e(c[0],c[1]);else if(3===p)u=new e(c[0],c[1],c[2]);else if(4===p)u=new e(c[0],c[1],c[2],c[3]);else if(5===p)u=new e(c[0],c[1],c[2],c[3],c[4]);else if(6===p)u=new e(c[0],c[1],c[2],c[3],c[4],c[5]);else if(7===p)u=new e(c[0],c[1],c[2],c[3],c[4],c[5],c[6]);else if(8===p)u=new e(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]);else if(9===p)u=new e(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8]);else{if(10!==p)throw new Error("Too many arguments given");u=new e(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9])}return s(u,r),u}}(e),!function(t){var e=function(t){this.Clazz=t.getClazz(),this.args=t.getArguments(),this.props=t.getProperties(),this.instance=void 0};e.prototype.createInstance=function(e){return this.instance||(this.instance=t.ioc.bean.createInstance(this.Clazz,this.args,this.props,e)),this.instance},e.prototype.init=function(t){return this.createInstance(t)},e.prototype.create=function(t){return this.createInstance(t)},e.prototype.matchesByType=function(t){return t===this.Clazz},e.prototype.getArguments=function(){return this.args},t.ioc.bean.SingletonStrategy=e}(e),!function(t){var e=function(t){this.Clazz=t.getClazz(),this.args=t.getArguments(),this.props=t.getProperties(),this.instance=void 0};e.prototype.init=function(){return null},e.prototype.create=function(e){return this.instance||(this.instance=t.ioc.bean.createInstance(this.Clazz,this.args,this.props,e)),this.instance},e.prototype.matchesByType=function(t){return t===this.Clazz},e.prototype.getArguments=function(){return this.args},t.ioc.bean.LazySingletonStrategy=e}(e),!function(t){var e=function(t){this.Clazz=t.getClazz(),this.args=t.getArguments(),this.props=t.getProperties()};e.prototype.init=function(){return null},e.prototype.create=function(e){return t.ioc.bean.createInstance(this.Clazz,this.args,this.props,e)},e.prototype.matchesByType=function(t){return t===this.Clazz},e.prototype.getArguments=function(){return this.args},t.ioc.bean.PrototypeStrategy=e}(e),!function(t){t.utils.setterOf=function(e){return"set"+t.utils.capitalize(e)}}(e),!function(t){function e(e){var n=[];return o(e,function(e){e="Object"===t.utils.typeOf(e)?e:{name:e},e.getter=t.utils.getterOf(e.name),e.setter=t.utils.setterOf(e.name),n.push(e)}),n}function n(e){return e&&"Function"===t.utils.typeOf(e.toPlainObject)}function r(t,e,n,r){t.prototype[e]=function(t){if(0===arguments.length)return this[n]();if(1===arguments.length)return this[r](t);throw new Error("Too many arguments. Setter function requires exactly one argument")},t.prototype[n]=function(){return this.get(e)},t.prototype[r]=function(t){return this.set(e,t)}}function i(t){var e={};return o(t,function(t){t.hasOwnProperty("defaultValue")?e[t.name]=t.defaultValue:t.hasOwnProperty("initialValue")&&(e[t.name]=t.initialValue)}),e}var o=t.utils.forEach,s=function(){s.upper.constructor.apply(this,arguments),this.init()};t.utils.inherit(s,t.model.Observable),s.prototype.isIziModel=!0,s.prototype.init=function(){},s.prototype.get=function(t){return this.data[t]},s.prototype.set=function(e,n){if(1===arguments.length&&"Object"===t.utils.typeOf(e)){for(var r in e)e.hasOwnProperty(r)&&this.set(r,e[r]);return this}var i=this.data[e];return this.equals(i,n)||(this.data[e]=n,this.dispatchChange(e,n,i)),this},s.prototype.dispatchChange=function(t,e,n){this.dispatchEvent(t+"Change",[e,n]),this.dispatchEvent("change",[t,e,n])},s.prototype.equals=function(e,n){return"Array"===t.utils.typeOf(e)&&"Array"===t.utils.typeOf(n)?this.equalsArray(e,n):e===n},s.prototype.equalsArray=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},s.prototype.iziObserveProperty=function(t,e){var n=this,r=t+"Change";return n.addListener(r,e),function(){n.removeListener(r,e)}},s.prototype.iziObserveWidget=function(t,e,n){var r=this,i=t.getEventType();return r.addListener(i,e,n),function(){r.removeListener(i,e)}},s.prototype.toPlainObject=function(){var e,r={},i="__iziCircularCopy__",s=i in this,u=this[i];return s?u():(this[i]=function(){return r},o(this.fields,function(i){var s=this[i.getter]();n(s)?r[i.name]=s.toPlainObject():"Array"===t.utils.typeOf(s)?(e=[],o(s,function(t){e.push(n(t)?t.toPlainObject():t)}),r[i.name]=e):s&&"Function"===t.utils.typeOf(s.forEach)?(e=[],s.forEach(function(t){e.push(n(t)?t.toPlainObject():t)}),r[i.name]=e):r[i.name]=s},this),delete this[i],r)},s.define=function(n){var u=e(n.fields),c=function(){this.data=i(u),this.fields=u,c.upper.constructor.apply(this)};t.utils.inherit(c,s),o(u,function(t){r(c,t.name,t.getter,t.setter)});for(var p in n)t.utils.hasOwnProperty(n,p)&&"fields"!=p&&(c.prototype[p]=n[p]);return c},t.model.Model=s}(e),!function(t){var e=function(){t.events.EventConfig.apply(this,arguments),this.expectedKeyCode=0};e.prototype=new t.events.EventConfig,e.prototype.constructor=e,e.prototype.isKeyboardEventConfig=!0,e.prototype.keyCode=function(t){return this.expectedKeyCode=t,this},e.prototype.getExpectedKeyCode=function(){return this.expectedKeyCode},e.prototype.BACKSPACE=function(){return this.keyCode(8)},e.prototype.TAB=function(){return this.keyCode(9)},e.prototype.NUM_CENTER=function(){return this.keyCode(12)},e.prototype.ENTER=function(){return this.keyCode(13)},e.prototype.RETURN=function(){return this.keyCode(13)},e.prototype.SHIFT=function(){return this.shift(),this.keyCode(16)},e.prototype.CTRL=function(){return this.ctrl(),this.keyCode(17)},e.prototype.ALT=function(){return this.alt(),this.keyCode(18)},e.prototype.PAUSE=function(){return this.keyCode(19)},e.prototype.CAPS_LOCK=function(){return this.keyCode(20)},e.prototype.ESC=function(){return this.keyCode(27)},e.prototype.SPACE=function(){return this.keyCode(32)},e.prototype.PAGE_UP=function(){return this.keyCode(33)},e.prototype.PAGE_DOWN=function(){return this.keyCode(34)},e.prototype.END=function(){return this.keyCode(35)},e.prototype.HOME=function(){return this.keyCode(36)},e.prototype.LEFT=function(){return this.keyCode(37)},e.prototype.UP=function(){return this.keyCode(38)},e.prototype.RIGHT=function(){return this.keyCode(39)},e.prototype.DOWN=function(){return this.keyCode(40)},e.prototype.PRINT_SCREEN=function(){return this.keyCode(44)},e.prototype.INSERT=function(){return this.keyCode(45)},e.prototype.DELETE=function(){return this.keyCode(46)},e.prototype.ZERO=function(){return this.keyCode(48)},e.prototype.ONE=function(){return this.keyCode(49)},e.prototype.TWO=function(){return this.keyCode(50)},e.prototype.THREE=function(){return this.keyCode(51)},e.prototype.FOUR=function(){return this.keyCode(52)},e.prototype.FIVE=function(){return this.keyCode(53)},e.prototype.SIX=function(){return this.keyCode(54)},e.prototype.SEVEN=function(){return this.keyCode(55)},e.prototype.EIGHT=function(){return this.keyCode(56)},e.prototype.NINE=function(){return this.keyCode(57)},e.prototype.A=function(){return this.keyCode(65)},e.prototype.B=function(){return this.keyCode(66)},e.prototype.C=function(){return this.keyCode(67)},e.prototype.D=function(){return this.keyCode(68)},e.prototype.E=function(){return this.keyCode(69)},e.prototype.F=function(){return this.keyCode(70)},e.prototype.G=function(){return this.keyCode(71)},e.prototype.H=function(){return this.keyCode(72)},e.prototype.I=function(){return this.keyCode(73)},e.prototype.J=function(){return this.keyCode(74)},e.prototype.K=function(){return this.keyCode(75)},e.prototype.L=function(){return this.keyCode(76)},e.prototype.M=function(){return this.keyCode(77)},e.prototype.N=function(){return this.keyCode(78)},e.prototype.O=function(){return this.keyCode(79)},e.prototype.P=function(){return this.keyCode(80)},e.prototype.Q=function(){return this.keyCode(81)},e.prototype.R=function(){return this.keyCode(82)},e.prototype.S=function(){return this.keyCode(83)},e.prototype.T=function(){return this.keyCode(84)},e.prototype.U=function(){return this.keyCode(85)},e.prototype.V=function(){return this.keyCode(86)},e.prototype.W=function(){return this.keyCode(87)},e.prototype.X=function(){return this.keyCode(88)},e.prototype.Y=function(){return this.keyCode(89)},e.prototype.Z=function(){return this.keyCode(90)},e.prototype.NUM_ZERO=function(){return this.keyCode(96)},e.prototype.NUM_ONE=function(){return this.keyCode(97)},e.prototype.NUM_TWO=function(){return this.keyCode(98)},e.prototype.NUM_THREE=function(){return this.keyCode(99)},e.prototype.NUM_FOUR=function(){return this.keyCode(100)},e.prototype.NUM_FIVE=function(){return this.keyCode(101)},e.prototype.NUM_SIX=function(){return this.keyCode(102)},e.prototype.NUM_SEVEN=function(){return this.keyCode(103)},e.prototype.NUM_EIGHT=function(){return this.keyCode(104)},e.prototype.NUM_NINE=function(){return this.keyCode(105)},e.prototype.NUM_MULTIPLY=function(){return this.keyCode(106)},e.prototype.NUM_PLUS=function(){return this.keyCode(107)},e.prototype.NUM_MINUS=function(){return this.keyCode(109)},e.prototype.NUM_PERIOD=function(){return this.keyCode(110)},e.prototype.NUM_DIVISION=function(){return this.keyCode(111)},e.prototype.F1=function(){return this.keyCode(112)},e.prototype.F2=function(){return this.keyCode(113)},e.prototype.F3=function(){return this.keyCode(114)},e.prototype.F4=function(){return this.keyCode(115)},e.prototype.F5=function(){return this.keyCode(116)},e.prototype.F6=function(){return this.keyCode(117)},e.prototype.F7=function(){return this.keyCode(118)},e.prototype.F8=function(){return this.keyCode(119)},e.prototype.F9=function(){return this.keyCode(120)},e.prototype.F10=function(){return this.keyCode(121)},e.prototype.F11=function(){return this.keyCode(122)},e.prototype.F12=function(){return this.keyCode(123)},t.events.KeyboardConfig=e}(e),!function(t){var e=function(){};e.prototype.event=function(e){return new t.events.EventConfig(e)},e.prototype.keyboardEvent=function(e){return new t.events.KeyboardConfig(e)},e.prototype.keyDown=function(){return this.keyboardEvent("keydown")},e.prototype.keyUp=function(){return this.keyboardEvent("keyup")},e.prototype.afterPrint=function(){return this.event("afterprint")},e.prototype.beforePrint=function(){return this.event("beforeprint")},e.prototype.beforeOnLoad=function(){return this.event("beforeonload")},e.prototype.error=function(){return this.event("error")},e.prototype.hasChange=function(){return this.event("haschange")},e.prototype.load=function(){return this.event("load")},e.prototype.message=function(){return this.event("message")},e.prototype.offline=function(){return this.event("offline")},e.prototype.line=function(){return this.event("line")},e.prototype.pageHide=function(){return this.event("pagehide")},e.prototype.pageShow=function(){return this.event("pageshow")},e.prototype.popState=function(){return this.event("popstate")},e.prototype.redo=function(){return this.event("redo")},e.prototype.resize=function(){return this.event("resize")},e.prototype.storage=function(){return this.event("storage")},e.prototype.undo=function(){return this.event("undo")},e.prototype.unload=function(){return this.event("unload")},e.prototype.blur=function(){return this.event("blur")},e.prototype.change=function(){return this.event("change")},e.prototype.contextMenu=function(){return this.event("contextmenu")},e.prototype.focus=function(){return this.event("focus")},e.prototype.formChange=function(){return this.event("formchange")},e.prototype.formInput=function(){return this.event("forminput")},e.prototype.input=function(){return this.event("input")},e.prototype.invalid=function(){return this.event("invalid")},e.prototype.reset=function(){return this.event("reset")},e.prototype.select=function(){return this.event("select")},e.prototype.submit=function(){return this.event("submit")},e.prototype.click=function(){return this.event("click")},e.prototype.dblClick=function(){return this.event("dblclick")},e.prototype.drag=function(){return this.event("drag")},e.prototype.dragEnd=function(){return this.event("dragend")},e.prototype.dragEnter=function(){return this.event("dragenter")},e.prototype.dragLeave=function(){return this.event("dragleave")},e.prototype.dragOver=function(){return this.event("dragover")},e.prototype.dragStart=function(){return this.event("dragstart")},e.prototype.drop=function(){return this.event("drop")},e.prototype.mouseDown=function(){return this.event("mousedown")},e.prototype.mouseMove=function(){return this.event("mousemove")},e.prototype.mouseOut=function(){return this.event("mouseout")},e.prototype.mouseOver=function(){return this.event("mouseover")},e.prototype.mouseUp=function(){return this.event("mouseup")},e.prototype.mouseWheel=function(){return this.event("mousewheel")},e.prototype.scroll=function(){return this.event("scroll")},e.prototype.abort=function(){return this.event("abort")},e.prototype.canPlay=function(){return this.event("canplay")},e.prototype.canPlayThrough=function(){return this.event("canplaythrough")},e.prototype.durationChange=function(){return this.event("durationchange")},e.prototype.emptied=function(){return this.event("emptied")},e.prototype.ended=function(){return this.event("ended")},e.prototype.loadedData=function(){return this.event("loadeddata")},e.prototype.loadedMetaData=function(){return this.event("loadedmetadata")},e.prototype.loadStart=function(){return this.event("loadstart")},e.prototype.pause=function(){return this.event("pause")},e.prototype.play=function(){return this.event("play")},e.prototype.playing=function(){return this.event("playing")},e.prototype.progress=function(){return this.event("progress")},e.prototype.rateChange=function(){return this.event("ratechange")},e.prototype.readyStateChange=function(){return this.event("readystatechange")},e.prototype.seeked=function(){return this.event("seeked")},e.prototype.seeking=function(){return this.event("seeking")},e.prototype.stalled=function(){return this.event("stalled")},e.prototype.suspend=function(){return this.event("suspend")},e.prototype.timeUpdate=function(){return this.event("timeupdate")},e.prototype.volumeChange=function(){return this.event("volumechange")},e.prototype.waiting=function(){return this.event("waiting")},e.prototype.touchStart=function(){return this.event("touchstart")},e.prototype.touchMove=function(){return this.event("touchmove")},e.prototype.touchEnd=function(){return this.event("touchend")},e.prototype.touchCancel=function(){return this.event("touchcancel")},e.prototype.touchEnter=function(){return this.event("touchenter")},e.prototype.touchLave=function(){return this.event("touchlave")},e.prototype.gestureStart=function(){return this.event("gesturestart")},e.prototype.gestureChange=function(){return this.event("gesturechange")},e.prototype.gestureEnd=function(){return this.event("gestureend")},e.prototype.orientationChange=function(){return this.event("orientationchange")},t.events.Events=e}(e),!function(e,n){function r(t,e){e.behavior&&t.registerBehaviorImpl(e.behavior),e.binding&&t.registerBindingImpl(e.binding),e.queue&&t.registerQueueImpl(e.queue)}function i(t){n.izi&&e.utils.forEach(s,function(e){n.izi[e]&&(t[e]=n.izi[e])})}var o={},s=["arg","sanityInjectTo","sanityOf","varargOf"],u=function(t,s){this.globals=s||n,i(this),"String"===e.utils.typeOf(t)&&(t=o[t]),t&&(this._framework=t,r(this,t))};u.prototype.bakeBeans=function(t,n){return new e.ioc.BeansContext(this.globals,t,n).initContext()},u.prototype.instantiate=function(t){return new e.ioc.Config(t,e.ioc.bean.SingletonStrategy,this.globals)},u.prototype.lazy=function(t){return new e.ioc.Config(t,e.ioc.bean.LazySingletonStrategy,this.globals)},u.prototype.protoOf=function(t){return new e.ioc.Config(t,e.ioc.bean.PrototypeStrategy,this.globals)},u.prototype.inject=function(t){if(!t)throw new Error("Trying to inject invalid empty bean");return new e.ioc.Injection(t)},u.prototype.perform=function(){throw new Error("Register your behavior implementation first: izi.registerBehaviorImpl(Izi.behavior.impl.SomeImpl)")},u.prototype.registerBehaviorImpl=function(t){this.perform=e.behavior.register(t,this)},u.prototype.bind=function(){throw new Error("Register your binding implementation first: izi.registerBindingImpl(Izi.binding.impl.SomeImpl)")},u.prototype.registerBindingImpl=function(t){this.bind=e.binding.register(t)},u.prototype.modelOf=function(t){return e.model.Model.define(t)},u.prototype.events=new e.events.Events,u.prototype.queue=function(){throw new Error("Register your queue implementation first: izi.registerQueueImpl(Izi.queue.impl.SomeImpl)")},u.prototype.registerQueueImpl=function(t){this.queue=e.queue.register(t,this)},u.prototype.newInstance=function(t,e){return new u(t||this._framework,e)},u.prototype.sandboxed=function(t){return this.newInstance(null,t)},e.registerFramework=function(t,e){o[t]=e},u.prototype.module=e,e.Api=u,t=new u}(e,this),t}"object"==typeof n(3)&&"dojotoolkit.org"!==n(3).vendor?(i=[],r=u,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))):t.exports=u()}(this)},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return function(){function e(t){var n=t.replace,r=void 0===n?!1:n,i=t.component,s=t.el;(0,u["default"])(this,e),this.el=s,this.component=i,this.replace=r,o("el",s),o("component",i)}return(0,p["default"])(e,[{key:"iziContext",value:function(t){this.context=t,this.vueInstance=this._createVueInstance()}},{key:"iziDestroy",value:function(){this.vueInstance.$destroy(!0)}},{key:"_createVueInstance",value:function(){var e=this.context;return new t({el:this.el,replace:this.replace,template:"<view-component></view-component>",components:{"view-component":this.component},events:{"izi.wireMe":function(t){return e.wire(t),!1}}})}}]),e}()}function o(t,e){if(!e)throw new Error("Option "+t+" is required")}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var s=n(5),u=r(s),c=n(6),p=r(c)},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(7),o=r(i);e["default"]=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o["default"])(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={"default":n(8),__esModule:!0}},function(t,e,n){var r=n(9);t.exports=function(t,e,n){return r.setDesc(t,e,n)}},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e){"use strict";function n(t){return function(e,n,r){r&&!r.__ob__&&new t({data:{dependency:r}}),e.$set(n,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";function n(t,e,n){if(t.iziInject)for(var i in t.iziInject){var o=t.iziInject[i];"data"!==i?t[i]=e.inject(o):r(t,e,n)}}function r(t,e,n){var r=t.iziInject.data;if(r)for(var i in r){var o=r[i];t[i]=e.inject(o).by(n)}}function i(t){for(var e in t.$options){var n=t.$options[e];n&&n.isIziInjection&&(t[e]=n)}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,e){return{created:function(){n(this.$options,t,e),i(this),this.$dispatch("izi.wireMe",this)}}}}])});
//# sourceMappingURL=izi-js-vue.js.map